(function(a){a.fn.catalog=function(b){var c=a.extend({"box":".catalog"},b),d=this.children(":header");return this.each(function(){var h=function(){d.map(function(l,m){var k="catalog"+"-"+m.tagName+"-"+l;m.id=k})};var g=function(){var m=[],l=d[0].tagName.charAt(1),n=0,k=null;m[0]=a("<ol></ol>");m[0].appendTo(a(c.box));d.map(function(o,p){k=a("<li></li>");k.append('<a href="#'+p.id+'">'+p.innerHTML+"</a>");if(l>p.tagName.charAt(1)){n-=parseInt(l)-parseInt(p.tagName.charAt(1))}else{if(l<p.tagName.charAt(1)){n+=parseInt(p.tagName.charAt(1))-parseInt(l);m[n]=a("<ol></ol>");prevLi.append(m[n])}}l=p.tagName.charAt(1);m[n].append(k);prevLi=k})};var f=function(){a(c.box+" a").click(function(){a(window).unbind("scroll");var k=this;a("body").animate({scrollTop:a(a(k).attr("href")).offset().top},"fast",function(){i()});e(a(k));return false})};var i=function(){a(window).scroll(function(){d.map(function(k,l){if(a(window).scrollTop()>l.offsetTop){e(a(c.box+' a[href="#'+l.id+'"]'))}})})};var e=function(k){a(c.box+" a").removeClass("active");k.addClass("active");a(c.box+" ol > li > ol").hide();a(c.box+" .active").parents("ol").show();a(c.box+" .active ~ ol").show()};var j=function(){h();g();a(c.box+" ol > li > ol").hide();f();i()};j()})}})(window.jQuery);function echo(c,b){var a="你好";alert("hello world")};